import { ControlState } from '../types'

export interface ScenarioPreset {
  id: string
  name: string
  expectedAction: string
  why: string
  settings: Partial<ControlState>
}

export const scenarioPresets: ScenarioPreset[] = [
  {
    id: 'solar-noon-crash',
    name: 'Solar Noon Crash',
    expectedAction: 'Charge',
    why: 'Midday prices collapse; cheap charging sets up evening optionality.',
    settings: {
      expectedDASpread: 35,
      expectedRTVolatility: 30,
      ancillaryPriceLevel: 40,
      scarcityLikelihood: 20,
      confidenceIndex: 1,
      bandWidth: 35,
      forecastFragile: false,
      soc: 35,
    },
  },
  {
    id: 'evening-peak',
    name: 'Evening Peak',
    expectedAction: 'Discharge',
    why: 'High peak prices justify immediate discharge.',
    settings: {
      expectedDASpread: 70,
      expectedRTVolatility: 55,
      ancillaryPriceLevel: 45,
      scarcityLikelihood: 55,
      confidenceIndex: 2,
      bandWidth: 25,
      forecastFragile: false,
      soc: 75,
    },
  },
  {
    id: 'scarcity-alert',
    name: 'Scarcity Alert',
    expectedAction: 'Hold SOC',
    why: 'Tail risk dominates; preserve SOC for scarcity pricing.',
    settings: {
      expectedDASpread: 55,
      expectedRTVolatility: 70,
      ancillaryPriceLevel: 50,
      scarcityLikelihood: 90,
      confidenceIndex: 0,
      bandWidth: 70,
      forecastFragile: true,
      soc: 60,
      protectScarcity: true,
      reservedSoc: 35,
    },
  },
  {
    id: 'high-ancillary',
    name: 'High Ancillary Day',
    expectedAction: 'Provide Ancillary',
    why: 'Speed and availability pay more than energy spreads.',
    settings: {
      expectedDASpread: 45,
      expectedRTVolatility: 40,
      ancillaryPriceLevel: 85,
      scarcityLikelihood: 30,
      confidenceIndex: 1,
      bandWidth: 30,
      forecastFragile: false,
      soc: 55,
      rampSpeed: 85,
    },
  },
  {
    id: 'low-confidence',
    name: 'Low Confidence Day',
    expectedAction: 'Hold SOC / AS',
    why: 'Uncertain forecasts favor optionality or low-throughput AS.',
    settings: {
      expectedDASpread: 50,
      expectedRTVolatility: 65,
      ancillaryPriceLevel: 60,
      scarcityLikelihood: 45,
      confidenceIndex: 0,
      bandWidth: 80,
      forecastFragile: true,
      soc: 50,
    },
  },
  {
    id: 'virtuals-opportunity',
    name: 'Virtuals Opportunity',
    expectedAction: 'DA Virtual',
    why: 'High-confidence DA-RT mispricing can be monetized without cycling.',
    settings: {
      expectedDASpread: 65,
      expectedRTVolatility: 35,
      ancillaryPriceLevel: 35,
      scarcityLikelihood: 25,
      confidenceIndex: 2,
      bandWidth: 20,
      forecastFragile: false,
      virtualMw: 90,
      useVirtualsToPreserveBatteryLife: true,
      soc: 45,
    },
  },
  {
    id: 'cycle-budget-tight',
    name: 'Cycle Budget Tight',
    expectedAction: 'Hold / Virtuals',
    why: 'Degradation cost makes low-spread cycling unattractive.',
    settings: {
      expectedDASpread: 50,
      expectedRTVolatility: 45,
      ancillaryPriceLevel: 50,
      scarcityLikelihood: 40,
      confidenceIndex: 1,
      bandWidth: 45,
      forecastFragile: false,
      cycleBudgetDaily: 0.4,
      cycleBudgetAnnual: 40,
      degradationSensitivity: 85,
      soc: 55,
    },
  },
  {
    id: 'regime-shift',
    name: 'Regime Shift',
    expectedAction: 'Hold SOC',
    why: 'Forecast fragile; optimizer becomes defensive.',
    settings: {
      expectedDASpread: 55,
      expectedRTVolatility: 80,
      ancillaryPriceLevel: 55,
      scarcityLikelihood: 60,
      confidenceIndex: 0,
      bandWidth: 85,
      forecastFragile: true,
      soc: 58,
      protectScarcity: true,
    },
  },
]
